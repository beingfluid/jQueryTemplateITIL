

STORE = [
    {
        "set": "Practice Set 2",
        "number":1,
        "question":"What is the definition of utility?",
        "answer":[
           "The assurance that a product or service will meet agreed requirements",
            "A possible event that could cause harm or loss, or make it more difficult to achieve objectives",
            "The functionality offered by a product or service to meet a particular need",
            "A tangible or intangible deliverable that is produced by carrying out an activity"
        ],
        "ans":"C",
        "correctAnswer":"The functionality offered by a product or service to meet a particular need"
    },
    {
        "set": "Practice Set 2",
        "number":2,
        "question":"Identify the missing word(s) in the following sentence.<br />A customer is a person who defines the requirements for a service and takes responsibility for the [?] of service consumption.",
        "answer":[
            "Outcomes",
            "Cost",
            "Outputs",
            "Benefits"
        ],
        "ans":"A",
        "correctAnswer":"Outcomes"
    },
    {
        "set": "Practice Set 2",
        "number":3,
        "question":"What is the definition of an IT asset?",
        "answer":[
            "A particular set of settings or options on a given piece of equipment",
"Any valuable component that can contribute to the delivery of an IT product or service",
"A means of enabling value co-creation by facilitating outcomes that customers want to achieve, without the customer having to manage specific costs and risks",
"Any component that needs to be managed in order to deliver an IT service"
        ],
        "ans":"B",
        "correctAnswer":"Any valuable component that can contribute to the delivery of an IT product or service"
    },
    {
        "set": "Practice Set 2",
        "number":4,
        "question":"Identify the missing word(s) in the following sentence.<br />A(n) [?] is any component that needs to be managed in order to deliver an IT service.",
        "answer":[
            "Product",
"Outputs",
"Asset",
"Configuration item"
        ],
        "ans":"D",
        "correctAnswer":"Configuration item"
    },
    {
        "set": "Practice Set 2",
        "number":5,
        "question":"What is the purpose of the 'relationship management' practice?",
        "answer":[
            "Establishing and nurturing links between an organization and its stakeholders at strategic and tactical levels",
"Supporting the agreed quality of a service by handling all pre-defined, user-initiated service requests in an effective and user-friendly manner",
"Setting clear business-based targets for service performance so that the delivery of a service can be properly assessed, monitored, and managed against these targets",
"Ensuring that an organization's suppliers and their performance levels are managed appropriately to support the provision of seamless quality products and services"
        ],
        "ans":"A",
        "correctAnswer":"Establishing and nurturing links between an organization and its stakeholders at strategic and tactical levels"
    },
    {
        "set": "Practice Set 2",
        "number":6,
        "question":"What is the purpose of the 'problem management' practice?",
        "answer":[
            "Ensuring that services deliver agreed levels of availability or that change can be assessed",
"Supporting the agreed quality of a service by handling all pre-defined, user-initiated service requests in an effective and user-friendly manner",
"Minimizing the negative impact of incidents by restoring normal service operation as quickly as possible",
"Reducing the likelihood and impact of incidents by identifying actual and potential causes of incidents, and managing workarounds and known errors"
        ],
        "ans":"D",
        "correctAnswer":"Reducing the likelihood and impact of incidents by identifying actual and potential causes of incidents, and managing workarounds and known errors"
    },
    {
        "set": "Practice Set 2",
        "number":7,
        "question":"Identify the missing word in the following sentence.<br />[?] management is the practice of minimizing the negative impact of incidents by restoring normal service operation as quickly as possible.",
        "answer":[
            "Availability",
"Event",
"Incident",
"Problem"
        ],
        "ans":"C",
        "correctAnswer":"Incident"
    },
    {
        "set": "Practice Set 2",
        "number":8,
        "question":"What is defined as the practice of aligning an organization's practices and services with changing business needs through the ongoing identification and improvement of all elements involved in the effective management of products and services?",
        "answer":[
            "Service level management",
"Service request management",
"Continual improvement",
"Capacity and performance management"
        ],
        "ans":"C",
        "correctAnswer":"Continual improvement"
    },
    {
        "set": "Practice Set 2",
        "number":9,
        "question":"Identify the missing word in the following sentence.<br />Service [?] management is the practice of setting clear business-based targets for service performance so that the delivery of a service can be properly assessed, monitored, and managed against these targets.",
        "answer":[
            "Capacity",
"Availability",
"Request",
"Level"
        ],
        "ans":"D",
        "correctAnswer":"Level"
    },
    {
        "set": "Practice Set 2",
        "number":10,
        "question":"Dion Training has decided not to run their own email servers. Instead, Dion Training pays a monthly service fee to Google's G-Suite to provide email services to the company so that Dion Training can receive emails from its students. What best describes this co-creation of value by Dion Training and Google in order to provide email support to Dion Training's students?",
        "answer":[
            "Service offering",
"Service relationship management",
"Service provision",
"Service consumption"
        ],
        "ans":"B",
        "correctAnswer":"Service relationship management"
    },
    {
        "set": "Practice Set 2",
        "number":11,
        "question":"What term best describes the perceived benefits, usefulness, and importance of something?",
        "answer":[
            "Utility",
"Warranty",
"Outcome",
"Value"
        ],
        "ans":"D",
        "correctAnswer":"Value"
    },
    {
        "set": "Practice Set 2",
        "number":12,
        "question":"Your organization is preparing to launch a new service. Your manager is concerned that there is a possibility that something bad might happen which could cause the service to fail and the desired outcome won't be achieved. What term best describes your manager's concerns?",
        "answer":[
            "Outputs",
"Risks",
"Costs",
"Utility"
        ],
        "ans":"B",
        "correctAnswer":"Risks"
    },
    {
        "set": "Practice Set 2",
        "number":13,
        "question":"Fill in the blank.<br />[?] is/are defined as a recommendation that can guide an organization in all circumstances and will guide organizations when adopting service management.",
        "answer":[
            "Guiding principles",
"Service value chain",
"Focus on value",
"Governance"
        ],
        "ans":"A",
        "correctAnswer":"Guiding principles"
    },
    {
        "set": "Practice Set 2",
        "number":14,
        "question":"You have been assigned to a team that has been asked to identify how your consumers use a particular service, what the service helps them to do, and how the service helps them to identify their goals. Which of the guiding principles should best be applied in your situation?",
        "answer":[
            "Focus on value",
"Progress iteratively with feedback",
"Collaborate and promote visibility",
"Think and work holistically"
        ],
        "ans":"A",
        "correctAnswer":"Focus on value"
    },
    {
        "set": "Practice Set 2",
        "number":15,
        "question":"Your organization is currently running a web hosting service, but it is not providing sufficient utility and warranty. In order to fix this, a team has been assembled and asked to design a new web hosting service. The team manager suggests that the team first look at the existing service and its processes before they begin to design the new service. What guiding principle is being followed by the team manager?",
        "answer":[
            "Focus on value",
"Start where you are",
"Keep it simple and practical",
"Optimize and automate"
        ],
        "ans":"B",
        "correctAnswer":"Start where you are"
    },
    {
        "set": "Practice Set 2",
        "number":16,
        "question":"Which guiding principle is focused on involving the right people in the correct roles in order to get additional buy-in for the project and increase the likelihood of long-term success?",
        "answer":[
            "Collaborate and promote visibility",
"Focus on value",
"Progress iteratively with feedback",
"Optimize and automate"
        ],
        "ans":"A",
        "correctAnswer":"Collaborate and promote visibility"
    },
    {
        "set": "Practice Set 2",
        "number":17,
        "question":"During a review of the New Account Creation process at your company, you determine that the current process requires 15 steps to create a new account. As you analyze each step, you find that steps 3 and 5 provide no value to the process or the organization. Based on which guiding principle should you eliminate steps 3 and 5 from the process?",
        "answer":[
            "Think and work holistically",
"Keep it simple and practical",
"Optimize and automate",
"Focus on value"
        ],
        "ans":"B",
        "correctAnswer":"Keep it simple and practical"
    },
    {
        "set": "Practice Set 2",
        "number":18,
        "question":"What refers to the use of technology to perform a step or series of steps correctly and consistently with limited or no human involvement?",
        "answer":[
            "Automation",
"Optimization",
"Value",
"Utility"
        ],
        "ans":"A",
        "correctAnswer":"Automation"
    },
    {
        "set": "Practice Set 2",
        "number":19,
        "question":"Which service management dimension is focused on the roles and responsibilities of the people involved in a process' workflow?",
        "answer":[
            "Organizations and people",
"Information and technology",
"Partners and suppliers",
"Value streams and processes"
        ],
        "ans":"A",
        "correctAnswer":"Organizations and people"
    },
    {
        "set": "Practice Set 2",
        "number":20,
        "question":"Which service management dimension is focused on the communication systems and knowledge bases used by employees?",
        "answer":[
            "Organizations and people",
"Information and technology",
"Partners and suppliers",
"Value streams and processes"
        ],
        "ans":"B",
        "correctAnswer":"Information and technology"
    },
    {
        "set": "Practice Set 2",
        "number":21,
        "question":"Which ITIL concept describes practices?",
        "answer":[
            "Seven guiding principles",
"Service value system",
"Service value chain",
"Four dimensions of service management"
        ],
        "ans":"B",
        "correctAnswer":"Service value system"
    },
    {
        "set": "Practice Set 2",
        "number":22,
        "question":"Which of the following is NOT an activity within the service value chain?",
        "answer":[
            "Plan",
"Engage",
"Delivery and Support",
"Practice"
        ],
        "ans":"D",
        "correctAnswer":"Practice"
    },
    {
        "set": "Practice Set 2",
        "number":23,
        "question":"Your company has recently engaged a new supplier to provide you with 3 routers that will handle 1 Gbps of throughput. They are scheduled for installation in three months. Your team is currently configuring the devices in preparation for installation into the network architecture based upon the design requirements. Which value chain activity would best categorize your configuration actions in this scenario?",
        "answer":[
            "Design and transition",
"Engage",
"Obtain/build",
"Deliver and support"
        ],
        "ans":"C",
        "correctAnswer":"Obtain/build"
    },
    {
        "set": "Practice Set 2",
        "number":24,
        "question":"Management has set a goal to reduce the number of physical servers in the datacenter by 10% this year. Your team is responsible for creating a plan to migrate 50% of the physical servers into virtualized systems. Which step of the continual improvement model are you currently working on?",
        "answer":[
            "Where do we want to be",
"How do we get there",
"Where are we now",
"Take action"
        ],
        "ans":"B",
        "correctAnswer":"How do we get there"
    },
    {
        "set": "Practice Set 2",
        "number":25,
        "question":"You are working as part of an improvement initiative and your team would like to release a new module into the existing Customer Relationship Management system. Which type of change should you initiate?",
        "answer":[
            "Standard",
"Normal",
"Emergency",
"Routine"
        ],
        "ans":"B",
        "correctAnswer":"Normal"
    },
    {
        "set": "Practice Set 2",
        "number":26,
        "question":"What is an emergency change?",
        "answer":[
            "A change that doesn't need risk assessment because the procedure has been pre-authorized",
"A change that needs to be assessed, authorized, and scheduled by a change authority",
"A change that must be implemented as soon as possible because it is required to resolve an incident or security issue",
"A change that is assessed, authorized, and scheduled as part of ‘continual improvement’"
        ],
        "ans":"C",
        "correctAnswer":"A change that must be implemented as soon as possible because it is required to resolve an incident or security issue"
    },
    {
        "set": "Practice Set 2",
        "number":27,
        "question":"Who is responsible for approving a change within the organization?",
        "answer":[
            "CEO",
"IT Director",
"Service desk analyst",
"Change authority"
        ],
        "ans":"D",
        "correctAnswer":"Change authority"
    },
    {
        "set": "Practice Set 2",
        "number":28,
        "question":"You are attempting to print a document from your workstation to the network printer in your office. The print job failed when you attempted to print, so you called the service desk for assistance. What term best describes your issue?",
        "answer":[
            "Problem",
"Event",
"Incident",
"Resolution"
        ],
        "ans":"C",
        "correctAnswer":"Incident"
    },
    {
        "set": "Practice Set 2",
        "number":29,
        "question":"Your company has decided to install a service management tool that provides incident management as one of its functions. What is the benefit of using an incident management system?",
        "answer":[
            "It can provide automated resolution and closure of complex incidents",
"It can ensure that incidents are resolved within the agreed upon timeframe in the service level agreement (SLA)",
"It can provide automated matching of incidents to problems or known errors",
"The system can provide specialized knowledge for solving complicated incidents"
        ],
        "ans":"C",
        "correctAnswer":"It can provide automated matching of incidents to problems or known errors"
    },
    {
        "set": "Practice Set 2",
        "number":30,
        "question":"What is usually included as part of 'incident management'?",
        "answer":[
            "Scripts for collecting initial information about incidents",
"Detailed procedures for the diagnosis of incidents",
"Authority to implement changes to a system",
"Observation of all services and service components to identify any change in state"
        ],
        "ans":"A",
        "correctAnswer":"Scripts for collecting initial information about incidents"
    },
    {
        "set": "Practice Set 2",
        "number":31,
        "question":"You are working as a service desk analyst. Within the last hour, you have received 13 calls about users being unable to log on to the network. There appears to be something wrong with the domain controller. What would you classify this scenario as?",
        "answer":[
            "Incident",
"Workaround",
"Problem",
"Event"
        ],
        "ans":"C",
        "correctAnswer":"Problem"
    },
    {
        "set": "Practice Set 2",
        "number":32,
        "question":"The users on the fourth floor of your building keep calling the service desk to report that their network connectivity is not working properly. The service desk logs each of these incidents, but since there are multiple incidents for the same issue, they forward it to the problem management activity for resolution. During your analysis, you determine that the network switch that services the entire fourth floor is broken and will need to be replaced. You checked the current inventory of spares, but there are none available. It appears this problem will remain for 24 hours until a new switch can be received and installed. How would you categorize the issue described in this scenario?",
        "answer":[
            "Known error",
"Workaround",
"Problem",
"Incident"
        ],
        "ans":"A",
        "correctAnswer":"Known error"
    },
    {
        "set": "Practice Set 2",
        "number":33,
        "question":"How does 'service request management' contribute to the 'deliver and support' value chain activity?",
        "answer":[
            "It ensures that users continue to be productive when they need assistance from the service provider",
"It collects user-specific requirements, sets expectations, and provides status updates",
"By initiating standard changes to fulfill service requests",
"It acquires pre-approved service components to help fulfill service requests"
        ],
        "ans":"A",
        "correctAnswer":"It ensures that users continue to be productive when they need assistance from the service provider"
    },
    {
        "set": "Practice Set 2",
        "number":34,
        "question":"What is an example of an action a service request management employee would undertake as part of the 'obtain/build' activity?",
        "answer":[
            "Analyzing data to identify opportunities to provide new service request options",
"Ensuring users continue to be productive when they need assistance from the service provider",
"Acquiring pre-approved service components to help fulfill service requests",
"Initiating standard changes to fulfill service requests"
        ],
        "ans":"C",
        "correctAnswer":"Acquiring pre-approved service components to help fulfill service requests"
    },
    {
        "set": "Practice Set 2",
        "number":35,
        "question":"What is true about the service desk?",
        "answer":[
            "Service desks should always be a physical team in a single fixed location",
"Service desks should be designed based on your organization, its business processes, and the user requirements",
"Service desks should always use a virtual service desk to save money",
"Service desks should always be local to the organization they support"
        ],
        "ans":"B",
        "correctAnswer":"Service desks should be designed based on your organization, its business processes, and the user requirements"
    },
    {
        "set": "Practice Set 2",
        "number":36,
        "question":"What activity is the main channel for communication and collaboration with users?",
        "answer":[
            "Service level management",
"Service desk",
"Incident management",
"Service request management"
        ],
        "ans":"B",
        "correctAnswer":"Service desk"
    },
    {
        "set": "Practice Set 2",
        "number":37,
        "question":"You are in a quarterly service level management review with your supervisor. The manager asks your supervisor if the service desk has been meeting their SLA target metrics. Your supervisor proudly proclaims that everything is 'green' (meaning, we are meeting all of the targets). Just then, another executive asks, \"If everything is showing as 'green', why am I hearing other users complain that the service is always unavailable for use?\" What might be the reason for this?",
        "answer":[
            "Your supervisor's data is based on operational metrics",
"Your supervisor's data is based on business metrics",
"Your supervisor's data is based on availability metrics",
"Your supervisor's data is not based on business outcomes"
        ],
        "ans":"D",
        "correctAnswer":"Your supervisor's data is not based on business outcomes"
    },
    {
        "set": "Practice Set 2",
        "number":38,
        "question":"How does 'service level management' contribute to the 'improve' value chain activity?",
        "answer":[
            "Uses feedback from users about the service and requirements from customers to make the service better",
"Provides feedback from interactions with customers into new or changed services",
"Provides information about the actual service performance and trends",
"Collects feedback during interactions and communicates service performance objectives to the operations and support teams"
        ],
        "ans":"A",
        "correctAnswer":"Uses feedback from users about the service and requirements from customers to make the service better"
    },
    {
        "set": "Practice Set 2",
        "number":39,
        "question":"You are working as a service desk manager. One of your analysts has created a new workaround for a problem that has been causing issues for users for the last few hours. To ensure all users across the network are notified of this workaround, you decide to post the workaround on the front page of your user service portal on the intranet. During which value chain activity would this occur?",
        "answer":[
            "Plan",
"Improve",
"Engage",
"Obtain/build"
        ],
        "ans":"C",
        "correctAnswer":"Engage"
    },
    {
        "set": "Practice Set 2",
        "number":40,
        "question":"What is an example of an action a service request management employee would undertake as part of the 'design and transition' activity?",
        "answer":[
            "Ensuring users continue to be productive when they need assistance from the service provider",
"Collecting user-specific requirements, setting expectations, and providing status updates",
"Acquiring pre-approved service components to help fulfill service requests",
"Initiating standard changes to fulfill service requests"
        ],
        "ans":"D",
        "correctAnswer":"Initiating standard changes to fulfill service requests"
    }
    
];
/* sets initial values to zero for the question number and score */

let qNumber = 0;
let score = 0;

/* event listener for start quiz button. Hides the start page and calls the function generateQuizQuestion */
function startQuiz() {
    $('main').on('click', '#button-start', function(event){
        $('.start-quiz').hide();
        generateQuizQuestion();
    });
}

/* begins displaying quiz questions from the STORE array until the very last question has been displayed, then calls the displayResults function */
function generateQuizQuestion() {
    if (qNumber < STORE.length) {
    let question =$(`<form class ="js-quiz-form">
    <legend class = "question">${STORE[qNumber].question}</legend>
    <ul class="radiogroup" role="radiogroup" aria-labelledby="question"></ul>`);
    let answers = STORE[qNumber].answer.map(function(answerValue, answerIndex){
        return `<label for="${answerValue}"><input type="radio" id="${answerValue}" name="answer" tabindex="${answerIndex}" value="${answerValue}" aria-checked="false" required>${answerValue}</label><br>`;
    });
    let button = $(`<button type="submit" id ="button-submit">Submit</button></form>`)
    $('.js-quiz').append(question);
    $('.radiogroup').append(answers, button);
    questionNumber();
} else {
    displayResults();
}

}

/* event listener for the submit button. Then checks to see if an input is selected, and if the answer selected is correct */
function questionChecker(){
    $('main').on('click','#button-submit', function (event){
        if ($('input:radio').is(':checked')) {
        event.preventDefault();
        let selectedAnswer= $("input[name=answer]:checked").val();
        console.log(selectedAnswer);
        if (selectedAnswer === STORE[qNumber].correctAnswer) {
            rightAnswer();
        } else {
                wrongAnswer();
            }
        }else {
            alert('Please select an answer.')
        }
    });
}

/* updates the question number and displays it at the top of the page */
function questionNumber(){
    $('header').find('#question-number').text(qNumber+1);
}

/* keeps score of correct answers and displays at the top of the page */
function scoreKeeper(){
    score++;
    $('header').find('#score').text(`${score}/${STORE.length}`);

}

/* displays the page for when the answer is right, updates score accordingly */
function rightAnswer() {
    console.log('rightAnswer ran');
    $('.js-quiz-form').hide();
    $('.js-answer').append(`<h2>You're Right!</h2>
    <img src="img/right-answer.jpg" alt="abstract painting" id="right-answer"/>
    <p>Great Job.</p>
    <button type="button" id ="button-next">Next Question</button>`).show();
    scoreKeeper();
}

/* displays page for when the answer is wrong and displays the correct answer */
function wrongAnswer() {
    $('.js-quiz-form').hide();
    $('.js-answer').append(`<h2>That answer is not quite right...</h2>
        <img src="img/wrong-answer.jpg" alt="child with paint all over face" id="wrong-answer"/>
        <h3>The correct answer is:</h3>
        <p><span class="correct-answer">${STORE[qNumber].correctAnswer}</span></p>
        <button type="button" id ="button-next">Next</button>`).show();
}

/* event listener for the next question button, calls the generateQuizQuestion function to display the next question */
function nextQuestion() {
    $('main').on('click','#button-next', function(event) {
        $('.js-answer').empty();
        $('.js-quiz-form').empty();
        qNumber++;
        generateQuizQuestion();
        $('js-quiz-form').show();
    });
}

/* displays the final percentage score and total number of correct answers */
function displayResults(){
    console.log("`displayResults` ran");
    let finalScore = (score/(STORE.length))*100;
    $('.js-answer').append(`<h2>Test Results</h2>
    <img id="paint-bucket" alt="red paint bucket" src = "img/paint-bucket.jpg"/>
    <h3>${finalScore}%</h3>
    <p>You got <span class="right-answers">${score} </span>out of ${STORE.length} questions right.</p>
    <button type="button" id ="button-restart">Start a New Quiz</button>`)
}

function restartQuiz(){
    console.log('restart quiz ran');
 $('main').on('click', '#button-restart', function(event){
     console.log('restart button clicked');
    score = 0;
    qNumber = 0;
    $('.js-answer').empty();
    $('.js-quiz-form').empty();
    $('.start-quiz').show();
    $('header').find('#score').text(`${score}/${STORE.length}`);
    $('header').find('#question-number').text(`${qNumber}`);
 });
}

function handleQuizApp(){
    startQuiz();
    questionChecker();
    nextQuestion();
    restartQuiz();
}

/* calls the handleQuizApp to activate functions with event listeners */
$(handleQuizApp);